#include <bits/stdc++.h>
using namespace std;

#define FASTIO ios::sync_with_stdio(0); cin.tie(0); cout.tie(0);

const int MOD = (int)1e9 + 7;

vector<long long> B;

void generate(int n, long long k) {
if (n == 0) {
B.push_back(k);
return;
}
long long k1 = k / 2;
long long k2 = k - k1;
generate(n - 1, k1);
generate(n - 1, k2);
}

void solve() {
int N;
long long K;
cin >> N >> K;

long long len = 1LL << N;
long long U = (K % len == 0) ? 0 : 1;

cout << U << "\n";

B.clear();
generate(N, K);

for (int i = 0; i < B.size(); ++i) {
    cout << B[i] << (i == B.size() - 1 ? "" : " ");
}
cout << "\n";
}

int main() {
FASTIO;
int t = 1;
// cin >> t;
while (t--) solve();
return 0;
}
